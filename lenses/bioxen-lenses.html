<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioXen Four-Lens System: Interactive Signal Analysis for Biological VMs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <!-- RESEARCH-DRIVEN ENHANCEMENTS: Four-lens architecture based on "Mathematical Foundations of System Transforms" and "Biology Frequency Domain Analysis Review" -->
    <!-- NEW: Wavelet Transform added as fourth lens for non-stationary biological signals -->
    <!-- UPGRADED: Lomb-Scargle as primary Fourier method for irregular biological sampling -->
    <!-- ENHANCED: Interactive comparisons, validation checks, and educational tooltips -->

</head>
<body class="antialiased flex flex-col min-h-screen">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-10 shadow-sm border-b border-gray-200">
      <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center">
            <h1 class="text-xl font-bold text-orange-700 flex items-center">
              BioXen Four-Lens System
              <span class="ml-2 text-xs bg-cyan-600 text-white px-2 py-1 rounded">v2.0</span>
            </h1>
          </div>
          <div class="hidden md:flex items-center space-x-4">
            <a
              href="index.html"
              class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-800 bg-gray-50 hover:bg-gray-100 transition-colors"
              >üè† Home</a
            >
            <a
              href="freq-domain.html"
              class="px-3 py-2 rounded-md text-sm font-medium text-green-600 hover:text-green-800 bg-green-50 hover:bg-green-100 transition-colors"
              >Frequency Domain Biology</a
            >
            <a
              href="bio-signal.html"
              class="px-3 py-2 rounded-md text-sm font-medium text-purple-600 hover:text-purple-800 bg-purple-50 hover:bg-purple-100 transition-colors"
              >Biological Signal Analysis</a
            >
            <a
              href="bioxen.html"
              class="px-3 py-2 rounded-md text-sm font-medium text-teal-600 hover:text-teal-800 bg-teal-50 hover:bg-teal-100 transition-colors"
              >BioXen Research Plan</a
            >
            <a
              href="bioxen-lenses.html"
              class="px-3 py-2 rounded-md text-sm font-medium text-orange-600 hover:text-orange-800 bg-orange-50 hover:bg-orange-100 transition-colors"
              >BioXen VM Spec</a
            >
            <a
              href="bio-lenses.html"
              class="px-3 py-2 rounded-md text-sm font-medium text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 transition-colors"
              >Biology Lenses ‚Üí</a
            >
          </div>
        </div>
      </nav>

      <!-- Mobile Navigation Menu -->
      <div id="mobile-menu" class="hidden lg:hidden mt-4 pb-4 border-t border-gray-200">
        <div class="flex flex-col space-y-2 mt-4">
          <a href="index.html" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-800 bg-gray-50 hover:bg-gray-100 transition-colors">üè† Home</a>
          <a href="freq-domain.html" class="px-3 py-2 rounded-md text-sm font-medium text-green-600 hover:text-green-800 bg-green-50 hover:bg-green-100 transition-colors">Frequency Domain Biology</a>
          <a href="bio-signal.html" class="px-3 py-2 rounded-md text-sm font-medium text-purple-600 hover:text-purple-800 bg-purple-50 hover:bg-purple-100 transition-colors">Biological Signal Analysis</a>
          <a href="bioxen.html" class="px-3 py-2 rounded-md text-sm font-medium text-teal-600 hover:text-teal-800 bg-teal-50 hover:bg-teal-100 transition-colors">BioXen Research Plan</a>
          <a href="bioxen-lenses.html" class="px-3 py-2 rounded-md text-sm font-medium text-orange-600 hover:text-orange-800 bg-orange-50 hover:bg-orange-100 transition-colors">BioXen VM Spec</a>
          <a href="bio-lenses.html" class="px-3 py-2 rounded-md text-sm font-medium text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 transition-colors">Biology Lenses ‚Üí</a>
        </div>
      </div>
    </header>

    <div class="flex flex-1">
      <!-- Mobile Sidebar Toggle -->
      <div class="lg:hidden fixed top-20 left-4 z-20">
        <button id="sidebar-toggle" class="bg-gray-800 text-white p-2 rounded-md shadow-lg">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>

      <!-- Left Sidebar Navigation -->
      <aside id="sidebar" class="w-64 bg-gray-50 border-r border-gray-200 p-6 fixed lg:static lg:block hidden lg:translate-x-0 transform -translate-x-full transition-transform duration-300 ease-in-out z-10 lg:z-auto">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">Page Navigation</h2>
        <nav class="space-y-2">
          <a href="#intro" data-target="intro" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors active">Overview</a>
          <a href="#fourier" data-target="fourier" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">Fourier Lens</a>
          <a href="#wavelet" data-target="wavelet" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">
            <span class="flex items-center">
              Wavelet Lens 
              <span class="ml-1 text-xs bg-cyan-500 text-white px-1.5 py-0.5 rounded">NEW</span>
            </span>
          </a>
          <a href="#laplace" data-target="laplace" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">Laplace Lens</a>
          <a href="#z-transform" data-target="z-transform" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">Z-Transform Lens</a>
          <a href="#comparison" data-target="comparison" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">Interactive Demo</a>
          <a href="#validation" data-target="validation" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">Validation Tools</a>
          <a href="#implementation" data-target="implementation" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">Implementation</a>
          <a href="#roadmap" data-target="roadmap" class="sidebar-nav-link block px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors">Roadmap</a>
        </nav>
      </aside>

      <!-- Overlay for mobile sidebar -->
      <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 lg:hidden hidden z-5"></div>

      <!-- Main Content -->
      <main id="main-content" class="flex-1 p-4 lg:p-8 flex flex-col">
            <section id="intro" class="content-section active">
                <div class="max-w-4xl mx-auto">
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-5 mb-6 rounded-r-lg">
                        <h3 class="font-semibold text-blue-900 mb-2">üéØ Document Purpose</h3>
                        <p class="text-blue-800 text-sm leading-relaxed">
                            This document establishes the mathematical foundations for the <strong>BioXen Fourier VM Library</strong> execution model. 
                            It specifies how Fourier, Laplace, and Z-transforms provide the computational substrate for virtualizing biological systems 
                            with temporal dynamics, feedback control, and discrete-time monitoring.
                        </p>
                    </div>

                    <h2 class="text-2xl font-semibold text-teal-700 mb-4">üî¨ The Four-Lens System Architecture</h2>
                    <div class="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg mb-4">
                        <p class="text-amber-900 text-sm">
                            <strong>‚ö° NEW:</strong> Research-driven upgrade! Based on peer-reviewed biological signal analysis, we've added 
                            <strong>Wavelet Transform</strong> as a fourth lens. Biological signals are non-stationary (frequencies change over time), 
                            making wavelets essential for real-world analysis.
                        </p>
                    </div>
                    <p class="text-stone-700 leading-relaxed mb-4">
                        Biological cells are inherently <strong>dynamical systems</strong>‚Äîcharacterized by temporal oscillations (circadian rhythms, metabolic cycles), 
                        transient responses to stimuli, and discrete measurement events. The BioXen architecture treats cells as virtual machines operating in a 
                        time-varying environment controlled by the hypervisor's astronomical time simulator.
                    </p>
                    <p class="text-stone-700 leading-relaxed mb-4">
                        Rather than reinventing temporal modeling primitives, we leverage <strong>signal processing theory</strong>‚Äîa mature mathematical 
                        framework with decades of research in control systems, digital filters, and frequency analysis. Each lens provides unique analytical capabilities:
                    </p>

                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <div class="lens-card bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border-2 border-purple-200 cursor-pointer" data-lens="fourier">
                            <h3 class="font-semibold text-purple-900 mb-2">üåä Fourier Lens</h3>
                            <p class="text-sm text-purple-800 mb-2">Steady-state periodic analysis</p>
                            <div class="text-xs text-purple-700">
                                <strong>Best for:</strong> Circadian rhythms<br>
                                <strong>Method:</strong> Lomb-Scargle
                            </div>
                        </div>
                        <div class="lens-card bg-gradient-to-br from-cyan-50 to-cyan-100 p-4 rounded-lg border-2 border-cyan-200 cursor-pointer" data-lens="wavelet">
                            <div class="flex items-center mb-2">
                                <h3 class="font-semibold text-cyan-900">üìà Wavelet Lens</h3>
                                <span class="ml-2 text-xs bg-cyan-600 text-white px-2 py-0.5 rounded">NEW</span>
                            </div>
                            <p class="text-sm text-cyan-800 mb-2">Time-frequency localization</p>
                            <div class="text-xs text-cyan-700">
                                <strong>Best for:</strong> Transient events<br>
                                <strong>Method:</strong> CWT/DWT
                            </div>
                        </div>
                        <div class="lens-card bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg border-2 border-orange-200 cursor-pointer" data-lens="laplace">
                            <h3 class="font-semibold text-orange-900 mb-2">‚öôÔ∏è Laplace Lens</h3>
                            <p class="text-sm text-orange-800 mb-2">System stability analysis</p>
                            <div class="text-xs text-orange-700">
                                <strong>Best for:</strong> Feedback control<br>
                                <strong>Method:</strong> Transfer functions
                            </div>
                        </div>
                        <div class="lens-card bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border-2 border-green-200 cursor-pointer" data-lens="ztransform">
                            <h3 class="font-semibold text-green-900 mb-2">üìä Z-Transform Lens</h3>
                            <p class="text-sm text-green-800 mb-2">Discrete-time filtering</p>
                            <div class="text-xs text-green-700">
                                <strong>Best for:</strong> Sampled data<br>
                                <strong>Method:</strong> Digital filters
                            </div>
                        </div>
                    </div>

                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                        <h3 class="font-semibold text-blue-900 mb-3 text-center">üß≠ Interactive Decision Tree: Which Lens Should You Use?</h3>
                        <div id="decisionTree" class="space-y-3">
                            <div class="bg-white p-3 rounded border-l-4 border-blue-500">
                                <p class="text-sm font-medium text-stone-700 mb-2">Is your signal frequency content changing over time?</p>
                                <div class="grid grid-cols-2 gap-2">
                                    <button class="decision-btn bg-blue-100 hover:bg-blue-200 px-3 py-2 rounded text-sm font-medium transition-colors" data-answer="changing">
                                        Yes - Non-stationary
                                    </button>
                                    <button class="decision-btn bg-blue-100 hover:bg-blue-200 px-3 py-2 rounded text-sm font-medium transition-colors" data-answer="steady">
                                        No - Stationary
                                    </button>
                                </div>
                            </div>
                            <div id="decisionResult" class="hidden bg-gradient-to-r from-green-100 to-green-50 p-4 rounded-lg border-2 border-green-400">
                                <p class="font-semibold text-green-900 mb-2">Recommended Lens: <span id="recommendedLens"></span></p>
                                <p class="text-sm text-green-800" id="recommendationReason"></p>
                            </div>
                        </div>
                    </div>

                    <div class="code-block mb-6">
                        <div class="code-comment"># Example: BioXen VM lifecycle with temporal analysis</div>
                        <div><span class="code-keyword">from</span> bioxen_fourier_vm_lib.api <span class="code-keyword">import</span> create_bio_vm</div>
                        <div><span class="code-keyword">from</span> bioxen_fourier_vm_lib.hypervisor <span class="code-keyword">import</span> BioXenHypervisor</div>
                        <div><span class="code-keyword">from</span> bioxen_fourier_vm_lib.analysis <span class="code-keyword">import</span> FourierAnalyzer</div>
                        <div class="mt-2"><span class="code-comment"># Create VM with circadian-aware hypervisor</span></div>
                        <div>vm = <span class="code-function">create_bio_vm</span>(<span class="code-string">'cell_001'</span>, <span class="code-string">'syn3a'</span>, <span class="code-string">'basic'</span>)</div>
                        <div>hypervisor = <span class="code-function">BioXenHypervisor</span>()</div>
                        <div class="mt-2"><span class="code-comment"># Get environmental forcing function</span></div>
                        <div>env_state = hypervisor.<span class="code-function">get_environmental_state</span>()</div>
                        <div><span class="code-function">print</span>(<span class="code-string">f"Light intensity: {env_state.light_intensity}"</span>)</div>
                        <div class="mt-2"><span class="code-comment"># Analyze metabolic oscillations via Fourier</span></div>
                        <div>analyzer = <span class="code-function">FourierAnalyzer</span>()</div>
                        <div>spectrum = analyzer.<span class="code-function">compute_spectrum</span>(vm.metabolite_timeseries)</div>
                    </div>

                    <p class="text-stone-700 leading-relaxed">
                        This document explores each transform's role in the execution model, demonstrates their practical implementation, 
                        and addresses the technical challenges of applying continuous-time mathematics to stochastic biological systems.
                    </p>
                </div>
            </section>

            <section id="fourier" class="content-section">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="text-2xl font-semibold text-teal-700 mb-2">üåä Fourier Lens: Steady-State Periodic Analysis</h2>
                    <p class="text-stone-600 mb-4">
                        The Fourier lens decomposes VM time-series data into frequency components, revealing periodic patterns 
                        synchronized with astronomical cycles.
                    </p>
                    <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg mb-6 text-left">
                        <h4 class="font-semibold text-purple-900 mb-2">üî¨ Research-Backed Upgrade: Lomb-Scargle is PRIMARY</h4>
                        <p class="text-sm text-purple-800">
                            Standard FFT requires <strong>uniform sampling</strong>. Real biological data is <strong>irregularly sampled</strong> 
                            (missed measurements, instrument downtime). <strong>Lomb-Scargle Periodogram</strong> is the gold standard in biology 
                            (used by MetaCycle, proven superior for noisy data).
                        </p>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                    <h3 class="text-lg font-semibold text-center mb-4">Interactive Demo: Metabolic Oscillation Detection</h3>
                    
                    <div class="mb-4 flex justify-center gap-4">
                        <label class="flex items-center space-x-2 signal-selector border-2 rounded-lg px-4 py-2" data-signal="uniform">
                            <input type="radio" name="sampling" value="uniform" checked class="form-radio text-purple-600">
                            <span class="text-sm font-medium">Uniform Sampling (FFT)</span>
                        </label>
                        <label class="flex items-center space-x-2 signal-selector border-2 rounded-lg px-4 py-2" data-signal="irregular">
                            <input type="radio" name="sampling" value="irregular" class="form-radio text-purple-600">
                            <span class="text-sm font-medium">Irregular Sampling (Lomb-Scargle)</span>
                        </label>
                    </div>

                    <div class="chart-container" style="height: 300px;">
                        <canvas id="fourierChart"></canvas>
                    </div>
                    <div class="text-center mt-4 space-x-3">
                        <button id="analyzeFourierBtn" class="bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors">
                            Run Spectral Analysis
                        </button>
                        <button id="addNoiseBtn" class="bg-stone-400 text-white font-bold py-2 px-4 rounded-lg hover:bg-stone-500 transition-colors">
                            Add Noise
                        </button>
                    </div>
                    <div id="fourierResults" class="mt-4 hidden bg-purple-50 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-purple-900">Analysis Results:</p>
                        <p class="text-sm text-purple-800">Dominant Period: <span id="dominantPeriod" class="font-mono"></span></p>
                        <p class="text-sm text-purple-800">Confidence: <span id="confidenceScore" class="font-mono"></span></p>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">BioXen Implementation Modules</h3>
                        <ul class="space-y-3 text-stone-700">
                            <li>
                                <strong class="text-teal-700">Circadian Synchronization:</strong>
                                <p class="text-sm mt-1">FFT analysis of VM metabolic states to detect phase alignment with hypervisor solar cycles (24h period). 
                                Enables identification of VMs with desynchronized clocks.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">Anomaly Detection:</strong>
                                <p class="text-sm mt-1">Spectral density analysis of resource consumption (ATP, ribosomes) to flag abnormal frequency patterns 
                                indicating VM malfunction or contamination.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">Expression Dynamics:</strong>
                                <p class="text-sm mt-1">Periodogram estimation for gene expression time-series from VM sensors, identifying oscillatory 
                                genes for cell cycle and stress response studies.</p>
                            </li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">Technical Challenges</h3>
                        <ul class="space-y-3 text-stone-700">
                            <li>
                                <strong class="text-orange-700">Non-Stationarity:</strong>
                                <p class="text-sm mt-1">VM frequencies drift over time due to cellular aging and environmental adaptation. 
                                <em>Solution:</em> Short-time Fourier Transform (STFT) or wavelet analysis for time-localized frequency content.</p>
                            </li>
                            <li>
                                <strong class="text-orange-700">Measurement Noise:</strong>
                                <p class="text-sm mt-1">Single-cell sensors have high technical and biological noise (Poisson counting statistics). 
                                <em>Solution:</em> Ensemble averaging across VM replicas or Welch's method for periodogram smoothing.</p>
                            </li>
                            <li>
                                <strong class="text-orange-700">Irregular Sampling:</strong>
                                <p class="text-sm mt-1">VMs may report at uneven intervals due to computational load or event-driven sensing. 
                                <em>Solution:</em> Lomb-Scargle periodogram for unevenly sampled data or cubic spline interpolation.</p>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="max-w-4xl mx-auto mt-6">
                    <div class="code-block">
                        <div class="code-comment"># Fourier module API design</div>
                        <div><span class="code-keyword">class</span> <span class="code-function">FourierAnalyzer</span>:</div>
                        <div class="ml-4"><span class="code-keyword">def</span> <span class="code-function">compute_spectrum</span>(self, timeseries, sampling_rate):</div>
                        <div class="ml-8"><span class="code-string">"""Compute power spectral density via FFT"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                        <div class="ml-4 mt-2"><span class="code-keyword">def</span> <span class="code-function">detect_periodicities</span>(self, spectrum, threshold=0.05):</div>
                        <div class="ml-8"><span class="code-string">"""Identify significant frequency peaks"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                        <div class="ml-4 mt-2"><span class="code-keyword">def</span> <span class="code-function">phase_coherence</span>(self, vm1_data, vm2_data):</div>
                        <div class="ml-8"><span class="code-string">"""Measure phase synchronization between VMs"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                    </div>
                </div>
            </section>

            <section id="wavelet" class="content-section">
                <div class="max-w-4xl mx-auto text-center">
                    <div class="flex items-center justify-center mb-4">
                        <h2 class="text-2xl font-semibold text-teal-700 mr-3">üìà Wavelet Lens: Time-Frequency Localization</h2>
                        <span class="bg-cyan-600 text-white px-3 py-1 rounded-full text-sm font-bold">NEW LENS</span>
                    </div>
                    <p class="text-stone-600 mb-4">
                        Biological signals are <strong>non-stationary</strong>‚Äîtheir frequency content changes over time. 
                        Wavelets provide time-frequency localization that Fourier cannot achieve.
                    </p>
                    <div class="bg-cyan-50 border-l-4 border-cyan-500 p-4 rounded-r-lg mb-6 text-left">
                        <h4 class="font-semibold text-cyan-900 mb-2">üéØ Why Wavelets Are Essential for Biology</h4>
                        <p class="text-sm text-cyan-800 mb-2">
                            From research: <em>"Wavelet methods are vital for handling non-stationary signals. Their capacity to localize 
                            spectral features simultaneously in time and frequency makes them indispensable for transient phenomena."</em>
                        </p>
                        <ul class="text-sm text-cyan-800 space-y-1 ml-4">
                            <li>‚Ä¢ <strong>Damping oscillations:</strong> Dying cells lose rhythm amplitude over time</li>
                            <li>‚Ä¢ <strong>Transient events:</strong> Stress responses cause temporary frequency shifts</li>
                            <li>‚Ä¢ <strong>Phase transitions:</strong> Cell cycle stages have different metabolic frequencies</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                    <h3 class="text-lg font-semibold text-center mb-4">Interactive Demo: Wavelet vs. Fourier on Non-Stationary Signal</h3>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-stone-700 mb-2">Biological Signal Type:</label>
                        <div class="grid grid-cols-3 gap-2">
                            <button class="bio-signal-btn bg-cyan-100 hover:bg-cyan-200 px-3 py-2 rounded text-sm font-medium transition-colors border-2 border-transparent" data-signal="stress">
                                Stress Response
                            </button>
                            <button class="bio-signal-btn bg-cyan-100 hover:bg-cyan-200 px-3 py-2 rounded text-sm font-medium transition-colors border-2 border-transparent" data-signal="damping">
                                Damping Oscillation
                            </button>
                            <button class="bio-signal-btn bg-cyan-100 hover:bg-cyan-200 px-3 py-2 rounded text-sm font-medium transition-colors border-2 border-transparent" data-signal="chirp">
                                Frequency Shift
                            </button>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <h4 class="text-sm font-semibold text-center mb-2">Time Domain Signal</h4>
                            <div class="chart-container" style="height: 200px;">
                                <canvas id="waveletTimeChart"></canvas>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-sm font-semibold text-center mb-2">Wavelet Scalogram (Time-Frequency)</h4>
                            <div class="chart-container" style="height: 200px;">
                                <canvas id="waveletScalogram"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="bg-amber-50 border border-amber-300 rounded p-3 mb-4">
                        <p class="text-sm text-amber-900">
                            <strong>üí° Interpretation:</strong> Scalogram shows how frequency content evolves over time. 
                            Brighter regions indicate stronger frequency components at specific moments‚Äîsomething Fourier cannot reveal!
                        </p>
                    </div>

                    <div class="text-center">
                        <button id="toggleFourierCompare" class="bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors">
                            Show Fourier Comparison
                        </button>
                    </div>

                    <div id="fourierComparison" class="hidden mt-4 bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg">
                        <h4 class="font-semibold text-red-900 mb-2">‚ö†Ô∏è Fourier Limitation Revealed</h4>
                        <p class="text-sm text-red-800">
                            Standard Fourier analysis averages frequency content over the entire time window, 
                            <strong>losing temporal information</strong>. It cannot tell you <em>when</em> frequency changes occur!
                        </p>
                        <div class="mt-2 p-2 bg-white rounded">
                            <canvas id="fourierCompareChart" style="height: 150px;"></canvas>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">BioXen Wavelet Applications</h3>
                        <ul class="space-y-3 text-stone-700">
                            <li>
                                <strong class="text-cyan-700">Cell Cycle Monitoring:</strong>
                                <p class="text-sm mt-1">Track frequency shifts as cells transition through G1 ‚Üí S ‚Üí G2 ‚Üí M phases. 
                                Each phase has distinct metabolic frequency signatures.</p>
                            </li>
                            <li>
                                <strong class="text-cyan-700">Stress Response Detection:</strong>
                                <p class="text-sm mt-1">Identify transient frequency changes when VMs encounter environmental shocks 
                                (temperature spikes, nutrient depletion).</p>
                            </li>
                            <li>
                                <strong class="text-cyan-700">Aging Analysis:</strong>
                                <p class="text-sm mt-1">Detect gradual amplitude decay in circadian rhythms as cellular machinery degrades 
                                over VM lifespan.</p>
                            </li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">Implementation</h3>
                        <div class="code-block text-xs">
                            <div><span class="code-keyword">from</span> scipy <span class="code-keyword">import</span> signal</div>
                            <div><span class="code-keyword">import</span> pywt</div>
                            <div class="mt-2"><span class="code-keyword">class</span> <span class="code-function">WaveletAnalyzer</span>:</div>
                            <div class="ml-4"><span class="code-keyword">def</span> <span class="code-function">continuous_wavelet</span>(self, data):</div>
                            <div class="ml-8"><span class="code-string">"""CWT for time-frequency"""</span></div>
                            <div class="ml-8">widths = np.arange(<span class="code-number">1</span>, <span class="code-number">128</span>)</div>
                            <div class="ml-8">cwt = signal.<span class="code-function">cwt</span>(data, signal.ricker, widths)</div>
                            <div class="ml-8"><span class="code-keyword">return</span> cwt</div>
                            <div class="mt-2 ml-4"><span class="code-keyword">def</span> <span class="code-function">detect_transients</span>(self, scalogram):</div>
                            <div class="ml-8"><span class="code-string">"""Find sudden frequency changes"""</span></div>
                            <div class="ml-8"><span class="code-keyword">pass</span></div>
                        </div>
                        <p class="text-sm text-stone-600 mt-3">
                            <strong>Library:</strong> PyWavelets (~80% code reduction)<br>
                            <strong>Complexity:</strong> O(N log N) for DWT
                        </p>
                    </div>
                </div>
            </section>
            
            <section id="laplace" class="content-section">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="text-2xl font-semibold text-teal-700 mb-2">Laplace Transform: System Control & Stability</h2>
                    <p class="text-stone-600 mb-6">
                        The Laplace controller models VM response dynamics as linear time-invariant (LTI) systems. 
                        Transfer functions describe how inputs (nutrient pulses, light shifts) propagate to outputs (protein levels, growth rate), 
                        enabling predictive control and stability analysis.
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 items-start max-w-5xl mx-auto mb-8">
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">BioXen Control Applications</h3>
                        <ul class="space-y-3 text-stone-700">
                            <li>
                                <strong class="text-teal-700">Resource Allocation Control:</strong>
                                <p class="text-sm mt-1">Design PID controllers in Laplace domain to maintain target ATP levels despite fluctuating demand. 
                                Pole placement ensures stable response without oscillations.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">Homeostasis Feedback Loops:</strong>
                                <p class="text-sm mt-1">Model pH regulation, temperature control, and osmotic pressure as feedback systems. 
                                Root-locus analysis determines stability margins for hypervisor perturbations.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">Gene Network Dynamics:</strong>
                                <p class="text-sm mt-1">Represent transcriptional cascades as transfer functions G(s) = output/input. 
                                Predict transient response times to transcription factor pulses.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">System Identification:</strong>
                                <p class="text-sm mt-1">Experimentally measure VM transfer functions by applying step/impulse inputs and 
                                fitting Laplace models to output data.</p>
                            </li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-4 text-teal-800 text-center">Conceptual Model: VM Feedback Control</h3>
                        <div class="flex flex-col items-center space-y-3">
                            <div class="flex items-center justify-center space-x-2">
                                <div class="text-center p-3 bg-blue-100 rounded-lg border-2 border-blue-300">
                                    <p class="font-semibold text-sm">Input u(t)</p>
                                    <p class="text-xs text-blue-800">Resource allocation</p>
                                </div>
                                <div class="text-3xl font-thin text-stone-400">‚Üí</div>
                                <div class="text-center p-3 border-2 border-dashed border-teal-500 rounded-lg bg-teal-50">
                                    <p class="font-semibold text-sm">G(s)</p>
                                    <p class="text-xs text-stone-600">VM Transfer Function</p>
                                </div>
                                <div class="text-3xl font-thin text-stone-400">‚Üí</div>
                                <div class="text-center p-3 bg-green-100 rounded-lg border-2 border-green-300">
                                    <p class="font-semibold text-sm">Output y(t)</p>
                                    <p class="text-xs text-green-800">Protein production</p>
                                </div>
                            </div>
                            <div class="text-2xl text-stone-400">‚Üì</div>
                            <div class="text-center p-3 bg-purple-100 rounded-lg border-2 border-purple-300">
                                <p class="font-semibold text-sm">Sensor + Controller</p>
                                <p class="text-xs text-purple-800">Feedback: e(t) = r(t) - y(t)</p>
                            </div>
                        </div>
                        <p class="text-sm text-stone-600 mt-4 text-center leading-relaxed">
                            Laplace domain: Y(s) = G(s)U(s), where G(s) = b/(s + a) for first-order systems. 
                            Controller design ensures stability (poles in left half-plane).
                        </p>
                    </div>
                </div>

                <div class="max-w-4xl mx-auto">
                    <div class="code-block">
                        <div class="code-comment"># Laplace controller module API</div>
                        <div><span class="code-keyword">class</span> <span class="code-function">LaplaceController</span>:</div>
                        <div class="ml-4"><span class="code-keyword">def</span> <span class="code-function">identify_transfer_function</span>(self, input_signal, output_signal):</div>
                        <div class="ml-8"><span class="code-string">"""Fit G(s) model from step response data"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                        <div class="ml-4 mt-2"><span class="code-keyword">def</span> <span class="code-function">design_pid_controller</span>(self, plant_tf, target_poles):</div>
                        <div class="ml-8"><span class="code-string">"""Synthesize PID gains for desired closed-loop dynamics"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                        <div class="ml-4 mt-2"><span class="code-keyword">def</span> <span class="code-function">stability_analysis</span>(self, closed_loop_tf):</div>
                        <div class="ml-8"><span class="code-string">"""Check Routh-Hurwitz criterion, compute gain margins"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                    </div>
                </div>

                <div class="max-w-4xl mx-auto mt-6 bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-lg">
                    <h4 class="font-semibold text-orange-900 mb-2">‚ö†Ô∏è Linearization Requirement</h4>
                    <p class="text-sm text-orange-800 leading-relaxed">
                        Laplace assumes LTI systems, but biological processes are nonlinear (Michaelis-Menten kinetics, Hill functions). 
                        <strong>Strategy:</strong> Linearize around operating points or use gain-scheduled controllers that switch between 
                        multiple linear models across the operating range.
                    </p>
                </div>
            </section>
            
            <section id="z-transform" class="content-section">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="text-2xl font-semibold text-teal-700 mb-2">Z-Transform: Discrete-Time Signal Processing</h2>
                    <p class="text-stone-600 mb-6">
                        VM measurements are inherently discrete‚Äîsampled at regular intervals (e.g., every 60 seconds). 
                        The Z-transform filter module processes these sampled signals, designs digital controllers, 
                        and implements discrete-time state estimation (e.g., Kalman filters).
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 items-start max-w-5xl mx-auto mb-8">
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">BioXen Discrete-Time Operations</h3>
                        <ul class="space-y-3 text-stone-700">
                            <li>
                                <strong class="text-teal-700">Digital Filtering:</strong>
                                <p class="text-sm mt-1">Design IIR/FIR filters in Z-domain to remove sensor noise from VM measurements 
                                (temperature, pH, metabolite concentrations). Butterworth/Chebyshev filter synthesis.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">Discrete Control Laws:</strong>
                                <p class="text-sm mt-1">Implement digital PID controllers updated at each sampling interval. 
                                Z-transform enables direct design from continuous Laplace controllers via bilinear transform.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">State Estimation:</strong>
                                <p class="text-sm mt-1">Discrete Kalman filter to estimate hidden VM states (internal metabolite pools) 
                                from noisy, partial observations. Operates in Z-domain with state-space models.</p>
                            </li>
                            <li>
                                <strong class="text-teal-700">Sequence Analysis:</strong>
                                <p class="text-sm mt-1">Model discrete event sequences (gene activation cascades, spike trains) 
                                using Z-transform representation. Connects to HMM theory for state inference.</p>
                            </li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-4 text-teal-800 text-center">Visualization: Continuous vs. Sampled</h3>
                        <div class="chart-container h-64">
                            <canvas id="discreteChart"></canvas>
                        </div>
                        <div class="text-center mt-4">
                            <button id="toggleDiscreteBtn" class="bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors">
                                Toggle Sampling Points
                            </button>
                        </div>
                        <p class="text-sm text-stone-600 mt-4 text-center leading-relaxed">
                            Z-transform operates on discrete samples (green dots) from continuous biological process (gray line). 
                            Sampling rate must satisfy Nyquist criterion: f_sample > 2¬∑f_max.
                        </p>
                    </div>
                </div>

                <div class="max-w-4xl mx-auto">
                    <div class="code-block mb-6">
                        <div class="code-comment"># Z-transform filter module API</div>
                        <div><span class="code-keyword">class</span> <span class="code-function">ZTransformFilter</span>:</div>
                        <div class="ml-4"><span class="code-keyword">def</span> <span class="code-function">design_lowpass_filter</span>(self, cutoff_freq, sampling_rate, order=4):</div>
                        <div class="ml-8"><span class="code-string">"""Design digital Butterworth filter in Z-domain"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                        <div class="ml-4 mt-2"><span class="code-keyword">def</span> <span class="code-function">discretize_controller</span>(self, continuous_tf, sampling_rate):</div>
                        <div class="ml-8"><span class="code-string">"""Convert Laplace controller to Z-domain via tustin/bilinear"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                        <div class="ml-4 mt-2"><span class="code-keyword">def</span> <span class="code-function">kalman_filter</span>(self, state_model, observations):</div>
                        <div class="ml-8"><span class="code-string">"""Discrete-time Kalman filter for state estimation"""</span></div>
                        <div class="ml-8"><span class="code-keyword">pass</span></div>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
                        <h4 class="font-semibold text-blue-900 mb-2">üí° Connection to HMMs</h4>
                        <p class="text-sm text-blue-800 leading-relaxed">
                            Hidden Markov Models used in genomics (gene finding, protein structure prediction) are discrete-time stochastic systems. 
                            While HMMs are primarily probabilistic, their temporal dynamics can be analyzed via Z-transform for understanding 
                            state transition frequencies and system stability.
                        </p>
                    </div>
                </div>
            </section>

            <section id="comparison" class="content-section">
                <div class="max-w-6xl mx-auto">
                    <h2 class="text-2xl font-semibold text-teal-700 mb-4 text-center">üî¨ Interactive Four-Lens Comparison</h2>
                    <p class="text-stone-600 mb-6 text-center max-w-3xl mx-auto">
                        Apply all four lenses to the same biological signal and see how each reveals different insights. 
                        This demonstrates why a multi-lens approach is essential for comprehensive analysis.
                    </p>

                    <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-stone-700 mb-2">Select Biological Scenario:</label>
                            <div class="grid md:grid-cols-4 gap-2">
                                <button class="scenario-btn bg-gradient-to-br from-blue-100 to-blue-50 hover:from-blue-200 hover:to-blue-100 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 border-transparent" data-scenario="circadian">
                                    <div class="font-bold">Circadian Rhythm</div>
                                    <div class="text-xs text-stone-600">Stable 24h cycle</div>
                                </button>
                                <button class="scenario-btn bg-gradient-to-br from-purple-100 to-purple-50 hover:from-purple-200 hover:to-purple-100 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 border-transparent" data-scenario="stress">
                                    <div class="font-bold">Stress Event</div>
                                    <div class="text-xs text-stone-600">Transient response</div>
                                </button>
                                <button class="scenario-btn bg-gradient-to-br from-orange-100 to-orange-50 hover:from-orange-200 hover:to-orange-100 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 border-transparent" data-scenario="feedback">
                                    <div class="font-bold">Feedback Control</div>
                                    <div class="text-xs text-stone-600">Homeostasis</div>
                                </button>
                                <button class="scenario-btn bg-gradient-to-br from-green-100 to-green-50 hover:from-green-200 hover:to-green-100 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 border-transparent" data-scenario="noisy">
                                    <div class="font-bold">Noisy Data</div>
                                    <div class="text-xs text-stone-600">Real-world sampling</div>
                                </button>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="border-2 border-purple-200 rounded-lg p-4 bg-purple-50">
                                <h4 class="font-semibold text-purple-900 mb-2 flex items-center">
                                    <span class="mr-2">üåä</span> Fourier Lens Result
                                </h4>
                                <div class="chart-container" style="height: 180px;">
                                    <canvas id="compFourier"></canvas>
                                </div>
                                <p class="text-xs text-purple-800 mt-2" id="fourierInsight">Loading...</p>
                            </div>

                            <div class="border-2 border-cyan-200 rounded-lg p-4 bg-cyan-50">
                                <h4 class="font-semibold text-cyan-900 mb-2 flex items-center">
                                    <span class="mr-2">üìà</span> Wavelet Lens Result
                                </h4>
                                <div class="chart-container" style="height: 180px;">
                                    <canvas id="compWavelet"></canvas>
                                </div>
                                <p class="text-xs text-cyan-800 mt-2" id="waveletInsight">Loading...</p>
                            </div>

                            <div class="border-2 border-orange-200 rounded-lg p-4 bg-orange-50">
                                <h4 class="font-semibold text-orange-900 mb-2 flex items-center">
                                    <span class="mr-2">‚öôÔ∏è</span> Laplace Lens Result
                                </h4>
                                <div class="chart-container" style="height: 180px;">
                                    <canvas id="compLaplace"></canvas>
                                </div>
                                <p class="text-xs text-orange-800 mt-2" id="laplaceInsight">Loading...</p>
                            </div>

                            <div class="border-2 border-green-200 rounded-lg p-4 bg-green-50">
                                <h4 class="font-semibold text-green-900 mb-2 flex items-center">
                                    <span class="mr-2">üìä</span> Z-Transform Lens Result
                                </h4>
                                <div class="chart-container" style="height: 180px;">
                                    <canvas id="compZtrans"></canvas>
                                </div>
                                <p class="text-xs text-green-800 mt-2" id="ztransInsight">Loading...</p>
                            </div>
                        </div>

                        <div class="mt-4 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-lg p-4">
                            <h4 class="font-semibold text-blue-900 mb-2">üìö Multi-Lens Insights Summary</h4>
                            <div id="summaryInsights" class="text-sm text-blue-800 space-y-1">
                                <p>Select a scenario above to see how each lens provides unique analytical perspectives...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="validation" class="content-section">
                <div class="max-w-5xl mx-auto">
                    <h2 class="text-2xl font-semibold text-teal-700 mb-4 text-center">‚úÖ Signal Validation Tools</h2>
                    <p class="text-stone-600 mb-6 text-center">
                        Before analysis, validate your data meets scientific requirements. These checks prevent "garbage in, garbage out" errors.
                    </p>

                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4 text-center">Interactive Validation Checker</h3>
                        
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-stone-700 mb-2">Sampling Rate (Hz):</label>
                                <input type="number" id="samplingRate" value="1.0" step="0.1" min="0.1" 
                                       class="w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-teal-500">
                                <p class="text-xs text-stone-500 mt-1">How many samples per second?</p>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-stone-700 mb-2">Expected Max Frequency (Hz):</label>
                                <input type="number" id="maxFrequency" value="0.1" step="0.01" min="0.01"
                                       class="w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-teal-500">
                                <p class="text-xs text-stone-500 mt-1">Highest frequency in your signal</p>
                            </div>
                        </div>

                        <button id="validateBtn" class="w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors mb-4">
                            Run Validation Checks
                        </button>

                        <div id="validationResults" class="space-y-3">
                            <!-- Results populated by JS -->
                        </div>

                        <div class="mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-blue-900 mb-2">üìñ Validation Criteria Explained</h4>
                            <ul class="text-sm text-blue-800 space-y-2">
                                <li><strong>Nyquist Criterion:</strong> Sampling rate must be ‚â• 2√ó max frequency to avoid aliasing</li>
                                <li><strong>Minimum Length:</strong> Need ‚â•50 samples for reliable FFT analysis</li>
                                <li><strong>Non-constant Signal:</strong> Standard deviation must be > 0 (signal varies)</li>
                                <li><strong>Data Quality:</strong> No NaN or infinite values allowed</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="implementation" class="content-section">
                <div class="max-w-4xl mx-auto text-center mb-8">
                    <h2 class="text-2xl font-semibold text-teal-700 mb-2">Implementation Architecture</h2>
                    <p class="text-stone-600 mb-6">
                        The three-transform framework maps to distinct Python modules within the BioXen library, 
                        each providing specialized signal processing capabilities for VM temporal analysis.
                    </p>
                </div>

                <div class="max-w-5xl mx-auto overflow-x-auto mb-8">
                    <table class="w-full text-left border-collapse bg-white rounded-lg overflow-hidden shadow">
                        <thead>
                            <tr class="bg-teal-600 text-white">
                                <th class="py-3 px-4 font-semibold">Transform</th>
                                <th class="py-3 px-4 font-semibold">Module Path</th>
                                <th class="py-3 px-4 font-semibold">Key Classes</th>
                                <th class="py-3 px-4 font-semibold">Primary Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-stone-200 hover:bg-stone-50">
                                <td class="py-3 px-4 font-semibold text-purple-700">Fourier</td>
                                <td class="py-3 px-4 text-sm font-mono">analysis.fourier</td>
                                <td class="py-3 px-4 text-sm">FourierAnalyzer<br>LombScargle<br>PhaseCoherence</td>
                                <td class="py-3 px-4 text-sm">Steady-state periodic analysis (uses Lomb-Scargle for irregular sampling)</td>
                            </tr>
                            <tr class="border-b border-stone-200 hover:bg-stone-50 bg-cyan-50">
                                <td class="py-3 px-4 font-semibold text-cyan-700 flex items-center">
                                    Wavelet
                                    <span class="ml-2 text-xs bg-cyan-600 text-white px-2 py-0.5 rounded">NEW</span>
                                </td>
                                <td class="py-3 px-4 text-sm font-mono">analysis.wavelet</td>
                                <td class="py-3 px-4 text-sm">WaveletAnalyzer<br>ContinuousWT<br>TransientDetector</td>
                                <td class="py-3 px-4 text-sm">Time-frequency localization for non-stationary signals</td>
                            </tr>
                            <tr class="border-b border-stone-200 hover:bg-stone-50">
                                <td class="py-3 px-4 font-semibold text-orange-700">Laplace</td>
                                <td class="py-3 px-4 text-sm font-mono">control.laplace</td>
                                <td class="py-3 px-4 text-sm">LaplaceController<br>TransferFunction<br>StabilityAnalyzer</td>
                                <td class="py-3 px-4 text-sm">System stability and feedback control design</td>
                            </tr>
                            <tr class="border-b border-stone-200 hover:bg-stone-50">
                                <td class="py-3 px-4 font-semibold text-green-700">Z-Transform</td>
                                <td class="py-3 px-4 text-sm font-mono">filters.ztransform</td>
                                <td class="py-3 px-4 text-sm">ZTransformFilter<br>KalmanFilter<br>DigitalController</td>
                                <td class="py-3 px-4 text-sm">Discrete-time filtering and state estimation</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">Dependencies & Libraries</h3>
                        <div class="bg-amber-50 border-l-4 border-amber-500 p-3 rounded-r-lg mb-3">
                            <p class="text-xs text-amber-900"><strong>‚ö° Updated:</strong> Research-driven dependency optimization</p>
                        </div>
                        <ul class="space-y-2 text-stone-700 text-sm">
                            <li><strong>NumPy ‚â•1.24:</strong> Array operations (ESSENTIAL)</li>
                            <li><strong>SciPy ‚â•1.11:</strong> FFT, filtering, signal processing (ESSENTIAL)</li>
                            <li><strong>Astropy ‚â•5.3:</strong> Lomb-Scargle with significance tests (ESSENTIAL) ‚≠ê</li>
                            <li><strong>PyWavelets ‚â•1.4:</strong> CWT/DWT for non-stationary signals (ESSENTIAL) ‚≠ê</li>
                            <li><strong>python-control ‚â•0.9:</strong> Transfer functions (Recommended)</li>
                            <li><strong>Pandas ‚â•2.0:</strong> Time series management (Optional)</li>
                        </ul>
                        <div class="mt-3 p-2 bg-green-50 rounded">
                            <p class="text-xs text-green-900"><strong>71% code reduction</strong> by leveraging mature libraries vs custom implementations</p>
                        </div>
                    </div>
                    <div class="info-card">
                        <h3 class="font-semibold text-lg mb-3 text-teal-800">Performance Considerations</h3>
                        <ul class="space-y-2 text-stone-700">
                            <li><strong>FFT Efficiency:</strong> O(N log N) algorithms for large time-series</li>
                            <li><strong>Real-time Processing:</strong> Streaming FFT for continuous VM monitoring</li>
                            <li><strong>Memory Usage:</strong> Windowed processing to handle long time-series</li>
                            <li><strong>Precision:</strong> 64-bit floating point for stability calculations</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <section id="roadmap" class="content-section">
                <div class="max-w-4xl mx-auto text-center mb-8">
                    <h2 class="text-2xl font-semibold text-teal-700 mb-2">Development Roadmap & Milestones</h2>
                    <p class="text-stone-600 mb-6">
                        Implementation priorities and technical challenges for deploying the three-transform framework 
                        in production BioXen environments.
                    </p>
                </div>

                <div class="space-y-6 max-w-5xl mx-auto">
                    <div class="bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-500 p-6 rounded-r-lg">
                        <h3 class="text-lg font-semibold text-green-900 mb-3">Phase 1: Core Four-Lens MVP (2-Week Sprint)</h3>
                        <div class="bg-amber-100 border border-amber-400 rounded p-3 mb-3">
                            <p class="text-sm text-amber-900">
                                <strong>‚ö° UPDATED:</strong> Includes Wavelet lens and Lomb-Scargle (research-driven upgrade)
                            </p>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-green-800 mb-2">Deliverables</h4>
                                <ul class="text-sm text-green-700 space-y-1">
                                    <li>‚Ä¢ <strong>Fourier:</strong> Lomb-Scargle for irregular biological sampling</li>
                                    <li>‚Ä¢ <strong>Wavelet:</strong> CWT/DWT for non-stationary signals ‚≠ê</li>
                                    <li>‚Ä¢ Laplace: Transfer function SISO systems</li>
                                    <li>‚Ä¢ Z-Transform: Basic digital filtering</li>
                                    <li>‚Ä¢ Validation layer (Nyquist checks)</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-green-800 mb-2">Success Metrics</h4>
                                <ul class="text-sm text-green-700 space-y-1">
                                    <li>‚Ä¢ Detect circadian rhythms in irregular data</li>
                                    <li>‚Ä¢ Identify transient events (stress, transitions)</li>
                                    <li>‚Ä¢ <100ms latency for real-time analysis</li>
                                    <li>‚Ä¢ 71% code reduction (leverage scipy/pywt)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-r from-orange-50 to-orange-100 border-l-4 border-orange-500 p-6 rounded-r-lg">
                        <h3 class="text-lg font-semibold text-orange-900 mb-3">Phase 2: Laplace Control Systems (Q2 2025)</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-orange-800 mb-2">Deliverables</h4>
                                <ul class="text-sm text-orange-700 space-y-1">
                                    <li>‚Ä¢ Transfer function identification from VM data</li>
                                    <li>‚Ä¢ PID controller synthesis for resource allocation</li>
                                    <li>‚Ä¢ Stability analysis and margin computation</li>
                                    <li>‚Ä¢ Homeostasis feedback loop implementation</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-orange-800 mb-2">Technical Challenges</h4>
                                <ul class="text-sm text-orange-700 space-y-1">
                                    <li>‚Ä¢ Nonlinear system linearization strategies</li>
                                    <li>‚Ä¢ Parameter identification from noisy data</li>
                                    <li>‚Ä¢ Real-time controller adaptation</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 p-6 rounded-r-lg">
                        <h3 class="text-lg font-semibold text-blue-900 mb-3">Phase 3: Z-Transform Integration (Q3 2025)</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-blue-800 mb-2">Deliverables</h4>
                                <ul class="text-sm text-blue-700 space-y-1">
                                    <li>‚Ä¢ Digital filter design for sensor noise reduction</li>
                                    <li>‚Ä¢ Discrete-time controller implementation</li>
                                    <li>‚Ä¢ Kalman filter for state estimation</li>
                                    <li>‚Ä¢ Integration with existing VM monitoring systems</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-blue-800 mb-2">Research Opportunities</h4>
                                <ul class="text-sm text-blue-700 space-y-1">
                                    <li>‚Ä¢ HMM integration for genomic sequence analysis</li>
                                    <li>‚Ä¢ Adaptive sampling rate optimization</li>
                                    <li>‚Ä¢ Multi-scale temporal analysis</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-r from-purple-50 to-purple-100 border-l-4 border-purple-500 p-6 rounded-r-lg">
                        <h3 class="text-lg font-semibold text-purple-900 mb-3">Phase 4: Advanced Features (Production)</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-semibold text-purple-800 mb-2">Advanced Capabilities</h4>
                                <ul class="text-sm text-purple-700 space-y-1">
                                    <li>‚Ä¢ <strong>HOSA/Bicoherence:</strong> Nonlinear coupling detection ‚≠ê</li>
                                    <li>‚Ä¢ <strong>State-Space Models:</strong> MIMO biological networks ‚≠ê</li>
                                    <li>‚Ä¢ Multi-algorithm consensus (MetaCycle-inspired)</li>
                                    <li>‚Ä¢ Integration with Rhythmidia/per2py tools</li>
                                    <li>‚Ä¢ Machine learning pattern recognition</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-purple-800 mb-2">Research-Backed Enhancements</h4>
                                <ul class="text-sm text-purple-700 space-y-1">
                                    <li>‚Ä¢ Bispectrum for quadratic phase coupling</li>
                                    <li>‚Ä¢ Automated lens selection (decision tree)</li>
                                    <li>‚Ä¢ N-version programming for fault tolerance</li>
                                    <li>‚Ä¢ Support for 10,000+ concurrent VMs</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="max-w-4xl mx-auto mt-8 bg-stone-50 border border-stone-200 p-6 rounded-lg">
                    <h3 class="text-lg font-semibold text-stone-800 mb-4">Key Technical Challenges</h3>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="text-center">
                            <div class="text-2xl mb-2">üî¨</div>
                            <h4 class="font-semibold text-stone-700 mb-2">Biological Complexity</h4>
                            <p class="text-sm text-stone-600">Bridging deterministic signal processing with stochastic molecular biology</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">‚ö°</div>
                            <h4 class="font-semibold text-stone-700 mb-2">Performance Requirements</h4>
                            <p class="text-sm text-stone-600">Real-time analysis of high-frequency VM sensor data streams</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">üîó</div>
                            <h4 class="font-semibold text-stone-700 mb-2">System Integration</h4>
                            <p class="text-sm text-stone-600">Seamless integration with existing BioXen hypervisor and VM infrastructure</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
            document.addEventListener('DOMContentLoaded', function() {
                // ========== Navigation functionality ==========
                const navLinks = document.querySelectorAll('.sidebar-nav-link');
                const sections = document.querySelectorAll('.content-section');

                navLinks.forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        const target = this.getAttribute('data-target');
                        
                        navLinks.forEach(lnk => lnk.classList.remove('active'));
                        this.classList.add('active');
                        
                        sections.forEach(section => {
                            if (section.id === target) {
                                section.classList.add('active');
                            } else {
                                section.classList.remove('active');
                            }
                        });
                    });
                });

                // Mobile sidebar toggle
                const sidebarToggle = document.getElementById('sidebar-toggle');
                const sidebar = document.getElementById('sidebar');
                const mainContent = document.getElementById('main-content');

                sidebarToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('sidebar-open');
                    mainContent.classList.toggle('sidebar-open');
                    document.getElementById('sidebar-overlay').classList.toggle('hidden');
                });

                document.getElementById('sidebar-overlay').addEventListener('click', () => {
                    sidebar.classList.remove('sidebar-open');
                    mainContent.classList.remove('sidebar-open');
                    document.getElementById('sidebar-overlay').classList.add('hidden');
                });

                // ========== Interactive Decision Tree ==========
                document.querySelectorAll('.decision-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const answer = this.dataset.answer;
                        const resultDiv = document.getElementById('decisionResult');
                        const lensSpan = document.getElementById('recommendedLens');
                        const reasonP = document.getElementById('recommendationReason');
                        
                        if (answer === 'changing') {
                            lensSpan.textContent = 'üìà Wavelet Transform';
                            reasonP.textContent = 'Non-stationary signals require time-frequency localization. Wavelets can track how frequency content evolves over time‚Äîessential for transient biological events like stress responses or cell cycle transitions.';
                        } else {
                            lensSpan.textContent = 'üåä Fourier Transform (Lomb-Scargle)';
                            reasonP.textContent = 'Stationary signals with stable frequencies are perfect for Fourier analysis. Use Lomb-Scargle if your sampling is irregular (common in biology), otherwise standard FFT works.';
                        }
                        
                        resultDiv.classList.remove('hidden');
                    });
                });

                // ========== Lens Card Interactions ==========
                document.querySelectorAll('.lens-card').forEach(card => {
                    card.addEventListener('click', function() {
                        const lens = this.dataset.lens;
                        const targetSection = lens === 'ztransform' ? 'z-transform' : lens;
                        
                        document.querySelector(`[data-target="${targetSection}"]`).click();
                    });
                });

                // ========== Enhanced Fourier Analysis ==========
                let currentSampling = 'uniform';
                let noiseLevel = 0;
                
                const baseData = [2.1, 2.0, 1.9, 1.8, 1.7, 1.6, 1.8, 2.2, 2.8, 3.5, 4.2, 4.8, 
                                  5.1, 5.0, 4.6, 4.0, 3.2, 2.5, 2.1, 1.9, 1.8, 1.8, 1.9, 2.0];
                
                function generateFourierData() {
                    let data = baseData.map(v => v + (Math.random() - 0.5) * noiseLevel);
                    let labels = Array.from({length: 24}, (_, i) => `${i}:00`);
                    
                    if (currentSampling === 'irregular') {
                        // Simulate missing data points
                        const mask = Array.from({length: 24}, () => Math.random() > 0.3);
                        data = data.filter((_, i) => mask[i]);
                        labels = labels.filter((_, i) => mask[i]);
                    }
                    
                    return { data, labels };
                }
                
                const fourierCtx = document.getElementById('fourierChart').getContext('2d');
                let { data: initialData, labels: initialLabels } = generateFourierData();
                
                let fourierChart = new Chart(fourierCtx, {
                    type: 'line',
                    data: {
                        labels: initialLabels,
                        datasets: [{
                            label: 'ATP Consumption (Œºmol/min)',
                            data: initialData,
                            borderColor: '#7c3aed',
                            backgroundColor: 'rgba(124, 58, 237, 0.1)',
                            fill: true,
                            tension: 0.4,
                            pointRadius: currentSampling === 'irregular' ? 4 : 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { title: { display: true, text: 'ATP Consumption' } },
                            x: { title: { display: true, text: 'Time (hours)' } }
                        }
                    }
                });

                // Sampling selector
                document.querySelectorAll('input[name="sampling"]').forEach(radio => {
                    radio.addEventListener('change', function() {
                        currentSampling = this.value;
                        const { data, labels } = generateFourierData();
                        fourierChart.data.labels = labels;
                        fourierChart.data.datasets[0].data = data;
                        fourierChart.data.datasets[0].pointRadius = currentSampling === 'irregular' ? 4 : 0;
                        fourierChart.update();
                        
                        document.querySelectorAll('.signal-selector').forEach(s => s.classList.remove('active'));
                        this.parentElement.classList.add('active');
                    });
                });

                // Add noise button
                document.getElementById('addNoiseBtn').addEventListener('click', function() {
                    noiseLevel = noiseLevel === 0 ? 0.5 : 0;
                    this.textContent = noiseLevel === 0 ? 'Add Noise' : 'Remove Noise';
                    const { data, labels } = generateFourierData();
                    fourierChart.data.datasets[0].data = data;
                    fourierChart.update();
                });

                // Analyze button with results
                document.getElementById('analyzeFourierBtn').addEventListener('click', function() {
                    const resultsDiv = document.getElementById('fourierResults');
                    resultsDiv.classList.remove('hidden');
                    
                    // Simulate analysis
                    const dominantPeriod = currentSampling === 'irregular' ? '24.2h (Lomb-Scargle)' : '24.0h (FFT)';
                    const confidence = currentSampling === 'irregular' ? '87% (p < 0.001)' : '95%';
                    
                    document.getElementById('dominantPeriod').textContent = dominantPeriod;
                    document.getElementById('confidenceScore').textContent = confidence;
                });

                // ========== Wavelet Demonstrations ==========
                let currentBioSignal = 'stress';
                
                function generateBioSignal(type) {
                    const t = Array.from({length: 200}, (_, i) => i * 0.05);
                    let signal;
                    
                    if (type === 'stress') {
                        // Sudden frequency shift at t=5 (stress response)
                        signal = t.map(time => {
                            const freq = time < 5 ? 1 : 2;
                            return Math.sin(2 * Math.PI * freq * time);
                        });
                    } else if (type === 'damping') {
                        // Exponentially decaying amplitude (dying cell)
                        signal = t.map(time => Math.exp(-time * 0.1) * Math.sin(2 * Math.PI * time));
                    } else {
                        // Linearly increasing frequency (chirp)
                        signal = t.map(time => Math.sin(2 * Math.PI * (0.5 + time * 0.2) * time));
                    }
                    
                    return { t, signal };
                }
                
                const waveletTimeCtx = document.getElementById('waveletTimeChart').getContext('2d');
                const waveletScalogramCtx = document.getElementById('waveletScalogram').getContext('2d');
                
                let { t, signal } = generateBioSignal(currentBioSignal);
                
                let waveletTimeChart = new Chart(waveletTimeCtx, {
                    type: 'line',
                    data: {
                        labels: t.map(v => v.toFixed(1)),
                        datasets: [{
                            data: signal,
                            borderColor: '#0891b2',
                            borderWidth: 2,
                            pointRadius: 0,
                            tension: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { display: true, title: { display: true, text: 'Time (s)' } },
                            y: { display: true, title: { display: true, text: 'Amplitude' } }
                        }
                    }
                });
                
                // Simulated scalogram (heatmap-style visualization)
                let waveletScalogram = new Chart(waveletScalogramCtx, {
                    type: 'line',
                    data: {
                        labels: t.map(v => v.toFixed(1)),
                        datasets: Array.from({length: 5}, (_, scale) => ({
                            label: `Scale ${scale + 1}`,
                            data: signal.map((v, i) => {
                                const window = Math.exp(-Math.pow((i - 100) / (20 + scale * 10), 2));
                                return v * window * (1 + scale * 0.2);
                            }),
                            borderColor: `hsl(${scale * 40}, 70%, 50%)`,
                            backgroundColor: `hsla(${scale * 40}, 70%, 50%, 0.3)`,
                            fill: true,
                            pointRadius: 0
                        }))
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { display: true },
                            y: { display: true, title: { display: true, text: 'Frequency' } }
                        }
                    }
                });

                // Bio signal selector
                document.querySelectorAll('.bio-signal-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('.bio-signal-btn').forEach(b => {
                            b.classList.remove('border-cyan-600', 'bg-cyan-200');
                        });
                        this.classList.add('border-cyan-600', 'bg-cyan-200');
                        
                        currentBioSignal = this.dataset.signal;
                        const { t: newT, signal: newSignal } = generateBioSignal(currentBioSignal);
                        
                        waveletTimeChart.data.datasets[0].data = newSignal;
                        waveletTimeChart.update();
                        
                        waveletScalogram.data.datasets.forEach((ds, scale) => {
                            ds.data = newSignal.map((v, i) => {
                                const window = Math.exp(-Math.pow((i - 100) / (20 + scale * 10), 2));
                                return v * window * (1 + scale * 0.2);
                            });
                        });
                        waveletScalogram.update();
                    });
                });

                // Toggle Fourier comparison
                document.getElementById('toggleFourierCompare').addEventListener('click', function() {
                    const compareDiv = document.getElementById('fourierComparison');
                    compareDiv.classList.toggle('hidden');
                    this.textContent = compareDiv.classList.contains('hidden') ? 
                        'Show Fourier Comparison' : 'Hide Fourier Comparison';
                });

                // ========== Validation Tools ==========
                document.getElementById('validateBtn').addEventListener('click', function() {
                    const samplingRate = parseFloat(document.getElementById('samplingRate').value);
                    const maxFreq = parseFloat(document.getElementById('maxFrequency').value);
                    const nyquistFreq = samplingRate / 2;
                    
                    const results = [];
                    
                    // Nyquist check
                    const nyquistPass = samplingRate >= 2 * maxFreq;
                    results.push({
                        name: 'Nyquist Criterion',
                        pass: nyquistPass,
                        message: nyquistPass ? 
                            `‚úÖ PASS: Sampling rate (${samplingRate}Hz) > 2√ómax frequency (${2*maxFreq}Hz)` :
                            `‚ùå FAIL: Need ${2*maxFreq}Hz minimum, you have ${samplingRate}Hz. Increase sampling rate or signals will alias!`
                    });
                    
                    // Sample count check (simulated)
                    const sampleCount = 100;
                    results.push({
                        name: 'Minimum Sample Count',
                        pass: sampleCount >= 50,
                        message: `‚úÖ PASS: ${sampleCount} samples (need ‚â•50 for reliable FFT)`
                    });
                    
                    // Signal variance check
                    results.push({
                        name: 'Signal Variability',
                        pass: true,
                        message: '‚úÖ PASS: Signal has non-zero variance (std = 0.82)'
                    });
                    
                    // Data quality
                    results.push({
                        name: 'Data Quality',
                        pass: true,
                        message: '‚úÖ PASS: No NaN or infinite values detected'
                    });
                    
                    // Render results
                    const resultsDiv = document.getElementById('validationResults');
                    resultsDiv.innerHTML = results.map(r => `
                        <div class="border-l-4 ${r.pass ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'} p-3 rounded-r-lg">
                            <h5 class="font-semibold ${r.pass ? 'text-green-900' : 'text-red-900'} text-sm">${r.name}</h5>
                            <p class="text-xs ${r.pass ? 'text-green-800' : 'text-red-800'} mt-1">${r.message}</p>
                        </div>
                    `).join('');
                });

                // ========== Discrete Sampling Chart ==========
                const discreteCtx = document.getElementById('discreteChart').getContext('2d');
                let showSamples = false;
                
                const continuousData = [];
                for (let i = 0; i <= 100; i++) {
                    const t = i * 0.1;
                    const value = Math.sin(t) + 0.5 * Math.sin(3 * t) + 0.3 * Math.random();
                    continuousData.push({x: t, y: value});
                }
                
                const sampledData = continuousData.filter((_, i) => i % 10 === 0);
                
                let discreteChart = new Chart(discreteCtx, {
                    data: {
                        datasets: [{
                            label: 'Continuous Process',
                            data: continuousData,
                            borderColor: '#6b7280',
                            backgroundColor: 'transparent',
                            showLine: true,
                            pointRadius: 0,
                            tension: 0.4
                        }, {
                            label: 'Sampled Points',
                            data: sampledData,
                            borderColor: '#059669',
                            backgroundColor: '#059669',
                            showLine: false,
                            pointRadius: 6,
                            hidden: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { title: { display: true, text: 'Time' } },
                            y: { title: { display: true, text: 'Signal Amplitude' } }
                        }
                    }
                });

                document.getElementById('toggleDiscreteBtn').addEventListener('click', function() {
                    showSamples = !showSamples;
                    discreteChart.data.datasets[1].hidden = !showSamples;
                    discreteChart.update();
                    this.textContent = showSamples ? 'Hide Sampling Points' : 'Show Sampling Points';
                });

                // ========== Four-Lens Comparison Demo ==========
                document.querySelectorAll('.scenario-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('.scenario-btn').forEach(b => {
                            b.classList.remove('border-blue-500');
                        });
                        this.classList.add('border-blue-500');
                        
                        const scenario = this.dataset.scenario;
                        
                        // Update insights based on scenario
                        const insights = {
                            circadian: {
                                fourier: 'Strong 24h peak at 0.042 Hz (circadian frequency)',
                                wavelet: 'Stable frequency across time‚Äîwavelet confirms stationarity',
                                laplace: 'Stable poles, oscillatory response to nutrient pulses',
                                ztrans: 'Effective digital filtering removes measurement noise'
                            },
                            stress: {
                                fourier: 'Multiple frequency components‚Äîmisses transient timing',
                                wavelet: 'CRITICAL: Detects sudden frequency shift at t=5.2s',
                                laplace: 'System becomes underdamped during stress (pole movement)',
                                ztrans: 'Real-time Kalman filter tracks state transitions'
                            },
                            feedback: {
                                fourier: 'Minimal periodic content‚Äîhomeostasis is working',
                                wavelet: 'Transients during perturbations, then returns to baseline',
                                laplace: 'IDEAL: Negative feedback (poles in left half-plane)',
                                ztrans: 'Discrete PID controller maintains setpoint ¬±2%'
                            },
                            noisy: {
                                fourier: 'Lomb-Scargle handles irregular sampling better than FFT',
                                wavelet: 'Denoise via thresholding wavelet coefficients',
                                laplace: 'System identification from noisy data requires regularization',
                                ztrans: 'Kalman filter provides optimal state estimate'
                            }
                        };
                        
                        document.getElementById('fourierInsight').textContent = insights[scenario].fourier;
                        document.getElementById('waveletInsight').textContent = insights[scenario].wavelet;
                        document.getElementById('laplaceInsight').textContent = insights[scenario].laplace;
                        document.getElementById('ztransInsight').textContent = insights[scenario].ztrans;
                        
                        const summaries = {
                            circadian: 'üîç All lenses agree: Classic circadian rhythm with stable 24h period. Fourier identifies frequency, Laplace confirms stability, Z-transform enables real-time monitoring, Wavelet confirms no transients.',
                            stress: '‚ö° Wavelet lens is CRITICAL here! Only wavelets detect the exact moment of frequency shift (stress onset). Other lenses miss temporal localization.',
                            feedback: '‚öôÔ∏è Laplace lens shines: Transfer function reveals negative feedback loop maintaining homeostasis. Z-transform implements digital PID control.',
                            noisy: 'üéØ Multi-lens robustness: Lomb-Scargle + Kalman filter + wavelet denoising together handle real-world biological data challenges.'
                        };
                        
                        document.getElementById('summaryInsights').innerHTML = `<p>${summaries[scenario]}</p>`;
                    });
                });
            });
        </script>
    </div>

    <footer class="mt-16 py-8 border-t border-gray-200 bg-gradient-to-r from-stone-50 to-stone-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-4">
                <h3 class="text-lg font-semibold text-stone-800 mb-3">üìö Research Foundation & Documentation</h3>
                <div class="grid md:grid-cols-3 gap-4 max-w-4xl mx-auto">
                    <a href="../research/Biology Frequency Domain Analysis Review.md" 
                       class="block bg-white hover:bg-blue-50 border-2 border-blue-200 hover:border-blue-400 rounded-lg p-3 transition-all">
                        <div class="text-blue-600 font-medium">Biology Frequency Domain Review</div>
                        <div class="text-xs text-stone-600 mt-1">Peer-reviewed biology applications</div>
                    </a>
                    <a href="../research/Mathematical Foundations of System Transforms.md" 
                       class="block bg-white hover:bg-purple-50 border-2 border-purple-200 hover:border-purple-400 rounded-lg p-3 transition-all">
                        <div class="text-purple-600 font-medium">Mathematical Foundations</div>
                        <div class="text-xs text-stone-600 mt-1">Rigorous transform theory</div>
                    </a>
                    <a href="../../../../new-prompt-update-execution-model-research-addendum.md" 
                       class="block bg-white hover:bg-green-50 border-2 border-green-200 hover:border-green-400 rounded-lg p-3 transition-all">
                        <div class="text-green-600 font-medium">Research-Driven Addendum ‚≠ê</div>
                        <div class="text-xs text-stone-600 mt-1">Latest enhancements & upgrades</div>
                    </a>
                </div>
            </div>
            <div class="text-center text-sm text-stone-600 border-t border-stone-200 pt-4">
                <p><strong>BioXen Four-Lens System</strong> | Version 2.0 (Research-Enhanced) | 
                <span class="text-cyan-600">NEW: Wavelet Lens Added</span></p>
                <p class="mt-2 text-xs">Based on extensive research review of biological signal analysis literature and proven tools (MetaCycle, Rhythmidia, per2py)</p>
            </div>
        </div>
    </footer>
</body>
</html>
